詳細設定（中間画面）TODO v1（最小変更で導入）

目的
- 録音直後に「詳細設定」中間画面を挟み、SwiftData にタイトル／アフターメッセージ／スヌーズ時間を保存して次画面へ遷移する。
- 既存の録音→通知→擬似着信→通話→通話後の流れは崩さない（必要最小限のみ変更）。

前提／デフォルト
- snoozeMin のデフォルトは 2 分（デバッグ用。後に変更予定）。
- タイトル未入力時: "（発信日時）からの電話" を自動セット。
- アフターメッセージ未入力時: 空文字のまま。

実装TODO
1) モデル拡張（最小）
- `RecordingEntity` に以下を追加（全て任意）:
  - `title: String?`
  - `afterMessage: String?`
  - `snoozeMin: Int?`  // 単位は分、未設定時は 2 分を使用（デバッグ）
- 既存データはマイグレーション不要（オプショナルで導入）。

2) 中間画面の追加（骨組み）
- `IntermediateView.swift` を新規追加。
- 引数: `recordingId: UUID`。SwiftData から `RecordingEntity` をフェッチして編集。
- UI 要素（簡易）:
  - テキストフィールド: タイトル
  - テキストエディタ: アフターメッセージ
  - ステッパー/テキスト: スヌーズ（分）
  - 「次へ」ボタン（保存→遷移）

3) 遷移の差し込み（録音直後のみ最小変更）
- `RecordingView` の保存完了後、現在は `dismiss()` しているが、その前にフルスクリーンで `IntermediateView` を提示。
- 既存の通知登録（スケジュール）は現状どおり維持（録音直後に登録）。

4) 保存と遷移
- 「次へ」で `title/afterMessage/snoozeMin` を保存。
- 保存後は当面「予定」タブへ切り替える（将来の“着信予定メールリスト”に自然接続）。

5) 拒否（スヌーズ）への反映
- 擬似着信画面の「拒否」時の再通知登録は、`RecordingEntity.snoozeMin`（分）を秒換算で採用。
- 未設定の場合は 2 分（デバッグ既定）で再登録。
- 実装箇所: `NotificationManager.scheduleSnooze(for:snoozeSeconds:)` の呼び出し側で分→秒変換して渡す（関数シグネチャは現状維持）。

6) 通話後画面の表示
- `AfterCallView` 真ん中に `afterMessage` を表示（未設定は表示なし）。

7) 既定タイトルの適用
- タイトル未入力の場合は、`recordedAt`（＝発信日時と同値で扱う）からフォーマットして "（発信日時）からの電話" を保存時に埋める。

8) 影響最小化の方針
- 通知スケジューリング（回数・間隔）、通知音処理、キーパッド他の UI は一切変更しない。
- 追加するのはモデルの任意プロパティと新規画面・遷移のみ。

検証観点
- 新規録音→詳細設定→予定タブ切替の一連が成立すること。
- 拒否時の再通知が、詳細設定で指定したスヌーズ分で再登録されること（未設定は2分）。
- 通話後画面でアフターメッセージが表示されること。

ファイル追加/変更（予定）
- 追加: `IntermediateView.swift`（中間画面）
- 変更: `RecordingEntity`（3フィールド追加）
- 変更: `RecordingView`（保存後に `IntermediateView` を提示）
- 変更: 擬似着信の拒否ハンドラ（snoozeMin を参照）
- 変更: `AfterCallView`（afterMessage 表示）
